import os
import random
import asyncio
from flask import Flask, request
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import (
    ApplicationBuilder,
    CommandHandler,
    MessageHandler,
    ContextTypes,
    filters,
)

TOKEN = "8416342563:AAF2yDXKKdTdFS92xXDHcjJ6XXqiSDHKQbM"
WEBHOOK_URL = "https://elena-tg-bot.onrender.com/webhook"

# –í—Å–µ —Ç–≤–æ–∏ —Ñ—Ä–∞–∑—ã (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫)
phrases = [
    '*_–î–æ–≤–µ—Ä—å—Å—è –ø—Ä–æ—Ü–µ—Å—Å—É_*',
    '*_–°–µ–≥–æ–¥–Ω—è –≤–∞–∂–Ω–∞ —Ç–∏—à–∏–Ω–∞_*',
    '*_–î–µ–ª–∞–π –º–µ–Ω—å—à–µ ‚Äî —á—É–≤—Å—Ç–≤—É–π –±–æ–ª—å—à–µ_*',
    '*_–ë—É–¥—å, –∞ –Ω–µ –¥–µ–ª–∞–π_*',
    '*_–¢—ã –Ω–µ –æ–¥–∏–Ω_*',
    '*_–¢—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ_*',
    '*_–ù–µ —Å–ø–µ—à–∏_*',
    '*_–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–º_*',
    '*_–ì–ª–∞–≤–Ω–æ–µ ‚Äî –¥—ã—à–∏_*',
    '*_–¢—ã ‚Äî –Ω–µ —Ç–≤–æ–∏ –º—ã—Å–ª–∏_*',
    '*_–í—Å–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤–æ–≤—Ä–µ–º—è_*',
    '*_–°–ª—É—à–∞–π —Å–µ—Ä–¥—Ü–µ_*',
    '*_–°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ –æ—Ç–ø—É—Å—Ç–∏—Ç—å_*',
    '*_–î–æ–≤–µ—Ä—è–π, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π_*',
    '*_–õ—é–±–æ–≤—å –≤ –º–µ–ª–æ—á–∞—Ö_*',
    '*_–ü—É—Å—Ç—å –º–∏—Ä –ø–æ–¥–æ–∂–¥–µ—Ç_*',
    '*_–¢—ã —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ_*',
    '*_–¶–µ–Ω–∏ —Å–≤–æ–π –ø—É—Ç—å_*',
    '*_–¢–≤–æ—è —Å–∏–ª–∞ –≤ –º—è–≥–∫–æ—Å—Ç–∏_*',
    '*_–í—Å–µ –∏–¥–µ—Ç –∫–∞–∫ –Ω–∞–¥–æ_*',
    '*_–°–º–æ—Ç—Ä–∏ –≥–ª—É–±–∂–µ_*',
    '*_–¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è_*',
    '*_–ù–µ –±–µ–≥–∏ –æ—Ç —Å–µ–±—è_*',
    '*_–¢–≤–æ—è –¥—É—à–∞ –∑–Ω–∞–µ—Ç –ø—É—Ç—å_*',
    '*_–°–≤–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Ç–µ–±—è_*',
    '*_–í—Å–µ —Å–ª–æ–∂–∏—Ç—Å—è_*',
    '*_–°–∏–ª–∞ ‚Äî –≤ —Ç–∏—à–∏–Ω–µ_*',
    '*_–ü–æ–∫–æ–π ‚Äî —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ_*',
    '*_–°–µ–π—á–∞—Å ‚Äî –ª—É—á—à–µ–µ –≤—Ä–µ–º—è_*',
    '*_–¢—ã ‚Äî —á–∞—Å—Ç—å –º–∏—Ä–∞_*',
    '*_–û—Å—Ç–∞–Ω–æ–≤–∏—Å—å –∏ –≤–¥–æ—Ö–Ω–∏_*',
    '*_–ú–∏—Ä –Ω–∞ —Ç–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ_*',
    '*_–ü—É—Å—Ç—å –±—É–¥–µ—Ç –ª–µ–≥–∫–æ_*',
    '*_–¢—ã ‚Äî –ø–æ—Ç–æ–∫_*',
    '*_–ù–µ–∂–Ω–æ—Å—Ç—å ‚Äî —Ç–≤–æ—è —Å–∏–ª–∞_*',
    '*_–ù–µ –±–æ–π—Å—è –ø–µ—Ä–µ–º–µ–Ω_*',
    '*_–í—Å–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–µ–±—è_*',
    '*_–ß—É–¥–µ—Å–∞ —Ä—è–¥–æ–º_*',
    '*_–°–∏–ª–∞ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º_*',
    '*_–û—Ç–ø—É—Å—Ç–∏ –æ–∂–∏–¥–∞–Ω–∏—è_*',
    '*_–°–ª—É—à–∞–π –∏–Ω—Ç—É–∏—Ü–∏—é_*',
    '*_–¢—ã —Ü–µ–Ω–Ω–µ–µ, —á–µ–º –¥—É–º–∞–µ—à—å_*',
    '*_–ë–ª–∞–≥–æ–¥–∞—Ä–∏ –∑–∞ –ø—É—Ç—å_*',
    '*_–£–ª—ã–±–Ω–∏—Å—å –º–∏—Ä—É_*',
    '*_–í–¥–æ—Ö–Ω–∏ –Ω–æ–≤–æ–µ_*',
    '*_–ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è_*',
    '*_–í—Å–µ –ø—Ä–æ–π–¥–µ—Ç_*',
    '*_–¢–µ–±–µ –º–æ–∂–Ω–æ –æ—Ç–¥—ã—Ö–∞—Ç—å_*',
    '*_–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –ª—É—á—à–µ–≥–æ_*',
    '*_–°–≤–µ—Ç –≤–µ–¥–µ—Ç —Ç–µ–±—è_*',
    '*_–°–ª—É—à–∞–π —à–µ–ø–æ—Ç –¥—É—à–∏_*',
    '*_–°–∏–ª–∞ –≤ –º—è–≥–∫–æ—Å—Ç–∏_*',
    '*_–ù–µ–±–æ –ø–æ–¥–¥–µ—Ä–∂–∏—Ç_*',
    '*_–°–º–æ—Ç—Ä–∏ –≤–Ω—É—Ç—Ä—å_*',
    '*_–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º_*',
    '*_–ù–µ –¥–µ—Ä–∂–∏ –ª–∏—à–Ω–µ–≥–æ_*',
    '*_–í—Å–µ –±—É–¥–µ—Ç –ø–æ-–¥—Ä—É–≥–æ–º—É_*',
    '*_–ü—Ä–∏–º–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç—å_*',
    '*_–¢–≤–æ–∏ —à–∞–≥–∏ –≤–∞–∂–Ω—ã_*',
    '*_–¢—ã –≤–∞–∂–µ–Ω_*',
    '*_–°—Ç–∞–Ω—å —Ç–∏—à–µ ‚Äî —É—Å–ª—ã—à–∏—à—å –±–æ–ª—å—à–µ_*',
    '*_–£–≤–∞–∂–∞–π —Å–≤–æ–π —Ä–∏—Ç–º_*',
    '*_–î—ã—à–∏ –≥–ª—É–±–∂–µ_*',
    '*_–ü—É—Å—Ç—å –±—É–¥–µ—Ç —Ç–∞–∫, –∫–∞–∫ –µ—Å—Ç—å_*',
    '*_–î–µ–ª–∞–π –ø–∞—É–∑—É_*',
    '*_–¢—ã —É–∂–µ –¥–æ–º–∞_*',
    '*_–ù–µ –≥–æ–Ω–∏—Å—å –∑–∞ –≤—Å–µ–º_*',
    '*_–°–æ—Ö—Ä–∞–Ω–∏ —Å–≤–µ—Ç_*',
    '*_–í–µ—Ä—å –≤ —Å–µ–±—è_*',
    '*_–°–º–µ–ª–æ—Å—Ç—å ‚Äî —ç—Ç–æ –º—è–≥–∫–æ—Å—Ç—å_*',
    '*_–¢—ã –∏ –µ—Å—Ç—å –æ—Ç–≤–µ—Ç_*',
    '*_–õ—é–±–æ–≤—å –≤–µ–¥–µ—Ç_*',
    '*_–°–µ–π—á–∞—Å ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ_*',
    '*_–ü—É—Å—Ç—å –∂–∏–∑–Ω—å —Ç–µ—á–µ—Ç_*',
    '*_–¢—ã —á–∞—Å—Ç—å —Ü–µ–ª–æ–≥–æ_*',
    '*_–¢—ã ‚Äî –¥–æ–±—Ä–æ_*',
    '*_–ù–µ –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞–π —Å–µ–±—è_*',
    '*_–í–Ω—É—Ç—Ä–∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ_*',
    '*_–ù–µ–∂–Ω–æ—Å—Ç—å –∫ —Å–µ–±–µ_*',
    '*_–¢—ã –ø–æ–¥ –∑–∞—â–∏—Ç–æ–π_*',
    '*_–°–ª—É—à–∞–π –∑–Ω–∞–∫–∏_*',
    '*_–¢—ã ‚Äî —Ç–≤–æ—Ä–µ—Ü_*',
    '*_–¢—ã –±–æ–ª—å—à–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è_*',
    '*_–í—Å–µ —Å–ª–æ–∂–∏—Ç—Å—è –≤–æ–≤—Ä–µ–º—è_*',
    '*_–¢–≤–æ–∏ –º–µ—á—Ç—ã –≤–∞–∂–Ω—ã_*',
    '*_–°–≤–µ—Ç –≤–Ω—É—Ç—Ä–∏_*',
    '*_–°—Ç–∞–Ω—å –º—è–≥—á–µ_*',
    '*_–¢—ã ‚Äî —á—É–¥–æ_*',
    '*_–ù–µ —Å–æ–º–Ω–µ–≤–∞–π—Å—è_*',
    '*_–í—Å–µ –∏–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ_*',
    '*_–¢—ã ‚Äî –ø–æ—Ç–æ–∫ –∂–∏–∑–Ω–∏_*',
    '*_–¢–µ–±–µ –º–æ–∂–Ω–æ –æ—à–∏–±–∞—Ç—å—Å—è_*',
    '*_–¢—ã ‚Äî —Å–º—ã—Å–ª_*',
    '*_–°–º–æ—Ç—Ä–∏ —Å–µ—Ä–¥—Ü–µ–º_*',
    '*_–°–∏–ª–∞ –±—ã—Ç—å —Å–æ–±–æ–π_*',
    '*_–¢—ã –Ω–∞ –ø—É—Ç–∏_*',
    '*_–¢—ã –≤–∞–∂–Ω–µ–µ –¥–µ–ª_*',
    '*_–û—Ç–ø—É—Å—Ç–∏ —Å—Ç–∞—Ä–æ–µ_*',
    '*_–í—Å–µ –ø–æ–ª—É—á–∏—Ç—Å—è_*',
    '*_–î—ã—à–∏ —Å–µ—Ä–¥—Ü–µ–º_*',
    '*_–î–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —Ç—ã –≤ —Ç–µ–º–Ω–æ—Ç–µ ‚Äî —Ç—ã –¥–≤–∏–∂–µ—à—å—Å—è._*',
    '*_–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∫–æ—è ‚Äî –Ω–µ –ª–µ–Ω—å. –≠—Ç–æ –º—É–¥—Ä–æ—Å—Ç—å._*',
    '*_–¢—ã –Ω–µ –ø–æ—Ç–µ—Ä—è–ª –ø—É—Ç—å. –¢—ã –ø—Ä–æ—Å—Ç–æ –æ—Ç–¥—ã—Ö–∞–µ—à—å._*',
    '*_–°–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å, —á—Ç–æ–±—ã –∑–∞–º–µ–¥–ª–∏—Ç—å —Å–µ—Ä–¥—Ü–µ._*',
    '*_–¢—ã –Ω–µ –≤ –¥–æ–ª–≥—É –ø–µ—Ä–µ–¥ –º–∏—Ä–æ–º –∑–∞ —Ç–æ, —á—Ç–æ –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ —Å–µ–±–µ._*',
    '*_–ù–µ —Ç–æ—Ä–æ–ø–∏ —Å–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ._*',
    '*_–¢—ã –º–æ–∂–µ—à—å –±—ã—Ç—å —Ü–µ–ª—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è —Ä–∞–∑–±–∏—Ç—ã–º._*',
    '*_–¢–≤–æ–µ –Ω–µ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–∫—Ç–æ–º –ª—é–±–≤–∏ –∫ —Å–µ–±–µ._*',
    '*_–ë—É–¥—å –∫–∞–∫ —Ä–µ–∫–∞ ‚Äî –Ω–∞–π–¥–∏ –ø—É—Ç—å, –Ω–µ –ª–æ–º–∞—è –±–µ—Ä–µ–≥–æ–≤._*',
    '*_–¢–≤–æ—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –¥–∞—Ä, –∞ –Ω–µ –±—Ä–µ–º—è._*',
    '*_–¢—ã –Ω–µ —Å–ª–æ–º–∞–ª—Å—è. –¢—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—à—å—Å—è._*',
    '*_–ü–æ–∫–æ–π ‚Äî —ç—Ç–æ –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è, —ç—Ç–æ –≥–ª—É–±–∏–Ω–∞._*',
    '*_–°–µ–≥–æ–¥–Ω—è –≤—ã–±–µ—Ä–∏ —Å–µ–±—è._*',
    '*_–ò–Ω–æ–≥–¥–∞ –ø—Ä–æ—Å—Ç–æ —á–∞–π –∏ —Ç–∏—à–∏–Ω–∞ ‚Äî —ç—Ç–æ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ._*',
    '*_–¢—ã ‚Äî –Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç—ã ‚Äî –ø—É—Ç—å._*',
    '*_–î–æ–≤–µ—Ä—è–π –ø–∞—É–∑–∞–º. –í –Ω–∏—Ö —Ä–æ–∂–¥–∞–µ—Ç—Å—è —è—Å–Ω–æ—Å—Ç—å._*',
    '*_–°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –Ω–µ —Å–ø–µ—à–∏—Ç—å._*',
    '*_–¢—ã ‚Äî –Ω–µ —Ç–≤–æ–∏ —Å—Ç—Ä–∞—Ö–∏._*',
    '*_–ú–æ–∂–Ω–æ –±—ã—Ç—å –Ω–µ–∂–Ω—ã–º –∏ —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª—ë–Ω–Ω—ã–º._*',
    '*_–ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å —á—É–∂–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º._*',
    '*_–¢–≤–æ–µ –º–µ–¥–ª–µ–Ω–Ω–æ ‚Äî —Ç–æ–∂–µ –¥–≤–∏–∂–µ–Ω–∏–µ._*',
    '*_–ü—É—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç –¥–µ–Ω—å –º—è–≥–∫–∏–º._*'
]

# –í—Å–µ —Ü–≤–µ—Ç–∞ (–ø–æ–ª–Ω—ã–π)
colors = [
    '*_–õ–∞–∑—É—Ä–Ω—ã–π ‚Äî —Ü–≤–µ—Ç –ø–æ–∫–æ—è –∏ –≥–ª—É–±–∏–Ω—ã_*',
    '*_–ò–∑—É–º—Ä—É–¥–Ω—ã–π ‚Äî —Ü–≤–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è_*',
    '*_–§–∏–æ–ª–µ—Ç–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –º–∏—Å—Ç–∏–∫–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è_*',
    '*_–ü–µ—Å–æ—á–Ω—ã–π ‚Äî —Ü–≤–µ—Ç –º—è–≥–∫–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏_*',
    '*_–ê–ª—ã–π ‚Äî —Ü–≤–µ—Ç —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç—Ä–∞—Å—Ç–∏_*',
    '*_–ë–∏—Ä—é–∑–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç —Å–≤–µ–∂–µ—Å—Ç–∏_*',
    '*_–°–∏—Ä–µ–Ω–µ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∏—Ä–∞_*',
    '*_–ù–µ–∂–Ω–æ-—Ä–æ–∑–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –∑–∞–±–æ—Ç—ã_*',
    '*_–û–ª–∏–≤–∫–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –º—É–¥—Ä–æ—Å—Ç–∏_*',
    '*_–ì–æ–ª—É–±–æ–π ‚Äî —Ü–≤–µ—Ç —è—Å–Ω–æ—Å—Ç–∏_*',
    '*_–ó–æ–ª–æ—Ç–æ–π ‚Äî —Ü–≤–µ—Ç –∏–∑–æ–±–∏–ª–∏—è_*',
    '*_–°–µ—Ä–µ–±—Ä–∏—Å—Ç—ã–π ‚Äî —Ü–≤–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è_*',
    '*_–ì–ª—É–±–æ–∫–∏–π —Å–∏–Ω–∏–π ‚Äî —Ü–≤–µ—Ç —Ç–∏—à–∏–Ω—ã_*',
    '*_–¢–µ–ø–ª—ã–π –æ—Ä–∞–Ω–∂–µ–≤—ã–π ‚Äî —Ü–≤–µ—Ç —Ä–∞–¥–æ—Å—Ç–∏_*',
    '*_–Ø–Ω—Ç–∞—Ä–Ω—ã–π ‚Äî —Ü–≤–µ—Ç —Ç–µ–ø–ª–æ—Ç—ã_*',
    '*_–ü–∞—Å—Ç–µ–ª—å–Ω–æ-–∑–µ–ª–µ–Ω—ã–π ‚Äî —Ü–≤–µ—Ç –≥–∞—Ä–º–æ–Ω–∏–∏_*',
    '*_–°–ª–∏–≤–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –∑–∞–≥–∞–¥–æ—á–Ω–æ—Å—Ç–∏_*',
    '*_–ë–µ–ª—ã–π ‚Äî —Ü–≤–µ—Ç —á–∏—Å—Ç–æ—Ç—ã_*',
    '*_–ë–µ–∂–µ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –∫–æ–º—Ñ–æ—Ä—Ç–∞_*',
    '*_–ö–æ—Ä–∞–ª–ª–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –º—è–≥–∫–æ–π —Å–∏–ª—ã_*',
    '*_–ò–Ω–¥–∏–≥–æ ‚Äî —Ü–≤–µ—Ç –∏–Ω—Ç—É–∏—Ü–∏–∏_*',
    '*_–ì–æ—Ä—á–∏—á–Ω—ã–π ‚Äî —Ü–≤–µ—Ç —Å—Ç–æ–π–∫–æ—Å—Ç–∏_*',
    '*_–ú—è—Ç–Ω—ã–π ‚Äî —Ü–≤–µ—Ç —Å–≤–µ–∂–µ–≥–æ –Ω–∞—á–∞–ª–∞_*',
    '*_–ü—É—Ä–ø—É—Ä–Ω—ã–π ‚Äî —Ü–≤–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–∏–ª—ã_*',
    '*_–°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π ‚Äî —Ü–≤–µ—Ç –ø–æ–∫–æ—è_*',
    '*_–¢–µ–ø–ª—ã–π –∫–æ—Ä–∏—á–Ω–µ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –∑–µ–º–ª–∏_*',
    '*_–ü—É–¥—Ä–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –Ω–µ–∂–Ω–æ—Å—Ç–∏_*',
    '*_–°–≤–µ—Ç–ª–æ-–∂–µ–ª—Ç—ã–π ‚Äî —Ü–≤–µ—Ç —Ä–∞–¥–æ—Å—Ç–∏_*',
    '*_–®–æ–∫–æ–ª–∞–¥–Ω—ã–π ‚Äî —Ü–≤–µ—Ç —Ç–µ–ø–ª–∞_*',
    '*_–ú–∞–ª–∞—Ö–∏—Ç–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –ø—Ä–∏—Ä–æ–¥—ã_*',
    '*_–°–∞–ø—Ñ–∏—Ä–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç –≥–ª—É–±–∏–Ω—ã_*',
    '*_–ü–µ—Å–æ—á–Ω–æ-—Ä–æ–∑–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç —É—é—Ç–∞_*',
    '*_–¢—É–º–∞–Ω–Ω–æ-—Å–µ—Ä—ã–π ‚Äî —Ü–≤–µ—Ç –º—è–≥–∫–æ—Å—Ç–∏_*',
    '*_–†–æ–∑–æ–≤–æ-–∑–æ–ª–æ—Ç–æ–π ‚Äî —Ü–≤–µ—Ç –∑–∞–±–æ—Ç—ã_*',
    '*_–õ–∞–≤–∞–Ω–¥–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è_*',
    '*_–°–≤–µ—Ç–ª—ã–π —Ç–µ—Ä—Ä–∞–∫–æ—Ç ‚Äî —Ü–≤–µ—Ç –∫–æ—Ä–Ω–µ–π_*',
    '*_–¢—Ä–∞–≤—è–Ω–æ–π ‚Äî —Ü–≤–µ—Ç –∂–∏–∑–Ω–∏_*',
    '*_–Ø—à–º–æ–≤—ã–π ‚Äî —Ü–≤–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏_*',
    '*_–û–∫–µ–∞–Ω–∏—á–µ—Å–∫–∏–π ‚Äî —Ü–≤–µ—Ç —à–∏—Ä–æ—Ç—ã_*',
    '*_–¢–µ–ø–ª—ã–π —Ñ—É–∫—Å–∏—è ‚Äî —Ü–≤–µ—Ç –¥–µ—Ä–∑–æ—Å—Ç–∏_*'
]

# –í—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ø–æ–ª–Ω—ã–π)
states = [
    '*_–°–ª—É—à–∞–π —Ç–∏—à–∏–Ω—É ‚Äì —Ç–∞–º –±–æ–ª—å—à–µ –æ—Ç–≤–µ—Ç–æ–≤, —á–µ–º –≤ —à—É–º–µ._*',
    '*_–°–µ–≥–æ–¥–Ω—è –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–º. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º._*',
    '*_–û—Å—Ç–∞–≤—å –º–µ—Å—Ç–æ –¥–ª—è —á—É–¥–∞._*',
    '*_–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω —Å–≤–µ—Ç–∏—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ò–Ω–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å._*',
    '*_–ú—è–≥–∫–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Å–∏–ª–∞._*',
    '*_–ï—Å–ª–∏ —É—Å—Ç–∞–ª ‚Äî –∑–∞–º–µ–¥–ª–∏—Å—å, –Ω–æ –Ω–µ —Å–¥–∞–≤–∞–π—Å—è._*',
    '*_–í—Å–µ, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ, —É–∂–µ –≤–Ω—É—Ç—Ä–∏._*',
    '*_–°–µ–≥–æ–¥–Ω—è —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å, —á—Ç–æ–±—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –∂–∏–≤—ã–º._*',
    '*_–¢–≤–æ–µ –¥—ã—Ö–∞–Ω–∏–µ ‚Äî —è–∫–æ—Ä—å –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º._*',
    '*_–°–º–æ—Ç—Ä–∏ –Ω–∞ –æ–±–ª–∞–∫–∞. –í –Ω–∏—Ö –±–æ–ª—å—à–µ —Å–≤–æ–±–æ–¥—ã, —á–µ–º –≤ –Ω–æ–≤–æ—Å—Ç—è—Ö._*',
    '*_–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å. –î–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ._*',
    '*_–¢—ã –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º, —á—Ç–æ–±—ã –±—ã—Ç—å —Ü–µ–Ω–Ω—ã–º._*',
    '*_–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ ‚Äî —ç—Ç–æ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å, –∞ –≥–ª—É–±–∏–Ω–∞._*',
    '*_–î–µ–ª–∞–π –º–µ–¥–ª–µ–Ω–Ω–æ. –≠—Ç–æ —Ç–æ–∂–µ –ø—É—Ç—å._*',
    '*_–¢—ã –Ω–µ –æ–ø–∞–∑–¥—ã–≤–∞–µ—à—å. –£ —Ç–µ–±—è —Å–≤–æ–π —Ä–∏—Ç–º._*',
    '*_–ò–Ω–æ–≥–¥–∞ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞—Ç—å—Å—è —Å —Å–æ–±–æ–π._*',
    '*_–¢—ã –º–æ–∂–µ—à—å —Å–∫–∞–∑–∞—Ç—å –Ω–µ—Ç –∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –±—ã—Ç—å —Ö–æ—Ä–æ—à–∏–º._*',
    '*_–ß—É–≤—Å—Ç–≤—É–π –∑–µ–º–ª—é –ø–æ–¥ –Ω–æ–≥–∞–º–∏. –≠—Ç–æ —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ._*',
    '*_–ò–Ω—Ç—É–∏—Ü–∏—è ‚Äî —ç—Ç–æ –≥–æ–ª–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–¥–∫–æ –∫—Ä–∏—á–∏—Ç._*',
    '*_–°–µ–≥–æ–¥–Ω—è –≤—ã–±–µ—Ä–∏ —Ç–æ, —á—Ç–æ —Ç–µ–±—è –Ω–∞–ø–æ–ª–Ω—è–µ—Ç._*',
    '*_–î–æ–≤–µ—Ä—è–π —Å–≤–æ–µ–π —É—Å—Ç–∞–ª–æ—Å—Ç–∏ ‚Äî –æ–Ω–∞ –Ω–µ –≤—Ä–∞–≥._*',
    '*_–ò–Ω–æ–≥–¥–∞ —Ö–∞–æ—Å ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª–æ –ø–æ—Ä—è–¥–∫–∞._*',
    '*_–¢—ã ‚Äî –Ω–µ —Ç–≤–æ—è —Ç—Ä–µ–≤–æ–≥–∞._*',
    '*_–ó–∞–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏–µ ‚Äî –Ω–∞ –ø—Ä–∏–Ω—è—Ç–∏–µ._*',
    '*_–ù–µ–∂–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Ñ–æ—Ä–º–∞ –º—É–¥—Ä–æ—Å—Ç–∏._*',
    '*_–ú–æ–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–≤—à–∏–º –∏ –≤—Å–µ –µ—â–µ —Ü–µ–ª—ã–º._*',
    '*_–ù–µ —Å–ø–µ—à–∏ –ø—Ä–æ–∂–∏–≤–∞—Ç—å –∂–∏–∑–Ω—å. –û–Ω–∞ –Ω–µ —É–±–µ–≥–∞–µ—Ç._*',
    '*_–ë—ã—Ç—å —Å–æ–±–æ–π ‚Äî —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ._*',
    '*_–ü–∞—É–∑–∞ ‚Äî —ç—Ç–æ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞, —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞._*',
    '*_–¢—ã –º–æ–∂–µ—à—å –±—ã—Ç—å –∏ —É—è–∑–≤–∏–º—ã–º, –∏ —Å–∏–ª—å–Ω—ã–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ._*',
    '*_–ù–µ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å —Å–≤–æ—é —Ç–∏—à–∏–Ω—É._*',
    '*_–ú–∏—Ä –Ω–µ —Ä—É—à–∏—Ç—Å—è, –æ–Ω –ø—Ä–æ—Å—Ç–æ –¥—ã—à–∏—Ç –∏–Ω–∞—á–µ._*',
    '*_–ë—É–¥—å –∫ —Å–µ–±–µ —Ç–∞–∫ –∂–µ –¥–æ–±—Ä, –∫–∞–∫ —Ç—ã –±—ã –±—ã–ª –∫ –¥—Ä—É–≥—É._*',
    '*_–¢—ã ‚Äî –Ω–µ –ø—Ä–æ–µ–∫—Ç. –¢–µ–±—è –Ω–µ –Ω—É–∂–Ω–æ –≤—Å—ë –≤—Ä–µ–º—è —É–ª—É—á—à–∞—Ç—å._*',
    '*_–°–µ–≥–æ–¥–Ω—è ‚Äî –Ω–µ —Ä–µ–ø–µ—Ç–∏—Ü–∏—è. –ñ–∏–≤–∏ –µ–≥–æ –º—è–≥–∫–æ._*',
    '*_–û—Å—Ç–∞–≤—å –º–µ—Å—Ç–æ –¥–ª—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏._*',
    '*_–¢—ã –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—Å–µ –∑–Ω–∞—Ç—å. –¢—ã —É—á–∏—à—å—Å—è –∂–∏—Ç—å._*',
    '*_–î–∞–∂–µ —Ç—É–º–∞–Ω–Ω–æ–µ —É—Ç—Ä–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—á–∞–ª–æ–º —Å–æ–ª–Ω—Ü–∞._*',
    '*_–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –æ—à–∏–±–∞—Ç—å—Å—è. –≠—Ç–æ —Ç–æ–∂–µ —Ä–æ—Å—Ç._*',
    '*_–°–æ—Ö—Ä–∞–Ω–∏ —Ç–∏—à–∏–Ω—É –≤–Ω—É—Ç—Ä–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–Ω–∞—Ä—É–∂–∏ —à—Ç–æ—Ä–º._*',
    '*_–¢—ã ‚Äî –ø—Ä–æ—Ü–µ—Å—Å, –∞ –Ω–µ –ø—Ä–æ–¥—É–∫—Ç._*',
    '*_–ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ–µ, —á—Ç–æ —Ç—ã –º–æ–∂–µ—à—å —Å–¥–µ–ª–∞—Ç—å ‚Äî —ç—Ç–æ –Ω–∏—á–µ–≥–æ._*',
    '*_–°–µ–≥–æ–¥–Ω—è ‚Äî –¥–µ–Ω—å –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤._*',
    '*_–î—ã—à–∏. –ü—Ä–æ—Å—Ç–æ –¥—ã—à–∏. –≠—Ç–æ–≥–æ —É–∂–µ –º–Ω–æ–≥–æ._*',
    '*_–û—Ç–ø—É—Å—Ç–∏—Ç—å ‚Äî –Ω–µ –∑–Ω–∞—á–∏—Ç –∑–∞–±—ã—Ç—å. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç –¥—ã—à–∞—Ç—å –ª–µ–≥—á–µ._*',
    '*_–¢—ã –º–æ–∂–µ—à—å –±—ã—Ç—å —Å–≤–µ—Ç–æ–º –¥–ª—è —Å–µ–±—è._*',
    '*_–ò–Ω–æ–≥–¥–∞ –ª—É—á—à–∏–π –ø–ª–∞–Ω ‚Äî —ç—Ç–æ –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ._*',
    '*_–ë—É–¥—å —Ç–∞–º, –≥–¥–µ —Ç–≤–æ–µ —Ç–µ–ª–æ._*',
    '*_–£—Å—Ç–∞–ª–æ—Å—Ç—å ‚Äî –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å, –∞ —Å–∏–≥–Ω–∞–ª._*',
    '*_–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –Ω–µ –∑–Ω–∞—Ç—å, —á—Ç–æ –¥–∞–ª—å—à–µ._*',
    '*_–¢—ã –Ω–µ —Ç–µ—Ä—è–µ—à—å –≤—Ä–µ–º—è, –µ—Å–ª–∏ –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ —Å–µ–±–µ._*',
    '*_–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω —Å–ø–∞—Å–∞—Ç—å –≤—Å–µ—Ö._*',
    '*_–ú–∏—Ä –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç —Ç–µ–±—è –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º._*',
    '*_–¢—ã ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å._*',
    '*_–ù–µ –æ—Ç–≤–µ—á–∞–π —Å—Ä–∞–∑—É. –ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å._*',
    '*_–¢–≤–æ–µ —Ç–µ–ª–æ —É–º–Ω–µ–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å._*'
]

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "–ü—Ä–∏–≤–µ—Ç! –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –∏ –ø–æ–ª—É—á–∏ —Å–≤–æ–π —Å–ª—É—á–∞–π–Ω—ã–π –æ–ø–æ—Ä–Ω—ã–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä –Ω–∞ —Å–µ–≥–æ–¥–Ω—è üåø",
        reply_markup=ReplyKeyboardMarkup(keyboard, resize_keyboard=True)
    )

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text
    if text == "üìù –§—Ä–∞–∑–∞ –¥–Ω—è":
        await update.message.reply_text(random.choice(phrases), parse_mode="Markdown")
    elif text == "üé® –¶–≤–µ—Ç –¥–Ω—è":
        await update.message.reply_text(random.choice(colors), parse_mode="Markdown")
    elif text == "ü´ß –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–Ω—è":
        await update.message.reply_text(random.choice(states), parse_mode="Markdown")
    else:
        await update.message.reply_text("–ù–∞–∂–º–∏ –Ω–∞ –æ–¥–Ω—É –∏–∑ –∫–Ω–æ–ø–æ–∫ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É üåø")

# === Flask & Telegram setup ===

flask_app = Flask(__name__)
telegram_app = ApplicationBuilder().token(TOKEN).build()

telegram_app.add_handler(CommandHandler("start", start))
telegram_app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))

@flask_app.route("/")
def index():
    return "–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ"

@flask_app.route("/webhook", methods=["POST"])
async def webhook():
    if request.method == "POST":
        update = Update.de_json(request.get_json(force=True), telegram_app.bot)
        await telegram_app.process_update(update)
        return "ok", 200

async def set_webhook():
    await telegram_app.bot.set_webhook(WEBHOOK_URL)
    print("Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")

if __name__ == "__main__":
    port = int(os.environ.get("PORT", 5000))

    # –ó–∞–ø—É—Å–∫–∞–µ–º Telegram-–±–æ—Ç–∞
    loop = asyncio.get_event_loop()
    loop.run_until_complete(set_webhook())
    telegram_app.initialize()
    flask_app.run(host="0.0.0.0", port=port)
